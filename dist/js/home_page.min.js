"use strict";$(function(){var n=null,t=1;function c(){$.getJSON("json/slideShow.json",function(n){t>Object.keys(n).length&&(t=1),$(".banner_cont img").attr("src",n["img"+t]),$(".banner_cont img").css("opacity","0.3"),$(".banner_cont img").animate({opacity:"1"},500),r()})}function e(){n=setInterval(function(){t++,c(),r()},3e3)}function r(){for(var n=0;n<$(".banner_chose").children().length;n++)$(".banner_chose").children().eq(n).css({background:"#acaaab","border-color":"#e5e4e5"});for(var e=0;e<$(".banner_chose").children().length;e++)$(".banner_chose").children().eq(e).attr("index")==t-1&&$(".banner_chose").children().eq(e).css({background:"#fa3778","border-color":"#fec3d7"})}e(),$.getJSON("json/slideShow.json",function(n){for(var e=Object.keys(n).length,o=0;o<e;o++){var s="<span class = 'slide_box' index = "+o+"></span>";$(".banner_chose").append(s),r(),$(".banner_chose .slide_box").bind({mouseenter:function(){$(this).css({background:"#fa3778","border-color":"#fec3d7"}),t=parseInt($(this).attr("index"))+1,c(),r()},mouseleave:function(){$(this).css({background:"#acaaab","border-color":"#e5e4e5"}),r()}})}}),$(".banner_cont img").bind({mouseenter:function(){clearInterval(n)},mouseleave:function(){e()}});var o=1;i();var s=null;function i(){s=setInterval(function(){$.getJSON("json/node.json",function(e){o>Object.keys(e).length&&(o=1),$(".banner_node").children().eq(1).animate({opacity:0,top:"-10px"},1e3,function(){$(".banner_node").children().eq(1).remove(),null==e["node"+o]&&(e["node"+o]="欢迎光临莎莎网，这里有你想有的一切");var n="<div class='banner_node_txt'>"+e["node"+o]+"</div>";$(".banner_node").append(n)})}),o++},4e3)}$(".banner_node").bind({mouseenter:function(){clearInterval(s),$(this).children().eq(1).css("color","#fa3778")},mouseleave:function(){i(),$(this).children().eq(1).css("color","#737373")}}),$(".recommend_img").on({mouseenter:function(){$(this).animate({opacity:"0.8"},30)},mouseleave:function(){$(this).animate({opacity:"1"})}},"img"),$(".new_bottom_node").bind({mouseenter:function(){$(this).css("box-shadow","2px 4px 5px 1px #ddd8d8")},mouseleave:function(){$(this).css("box-shadow","0 0 0 01px #fff")}});for(var a=0;a<$(".new_bottom_node").children().length;a++)$(".new_bottom_node").eq(a).children().eq(1).children().eq(3).bind({mouseenter:function(){$(this).css("background","#c53265")},mouseleave:function(){$(this).css("background","#e93b78")}});$(".rushBuying_node").bind({mouseenter:function(){$(this).css("box-shadow","2px 4px 5px 1px #ddd8d8")},mouseleave:function(){$(this).css("box-shadow","0 0 0 0 #fff")}});for(var l=0;l<$(".rushBuying_node").children().length;l++)$(".rushBuying_node").eq(l).children().eq(2).children().eq(4).children().eq(1).bind({mouseenter:function(){$(this).css("background","#c53265")},mouseleave:function(){$(this).css("background","#e93b78")}});$(".newArrival_node_txt").bind({mouseenter:function(){$(this).css("border-color","#fa3778")},mouseleave:function(){$(this).css("border-color","transparent")}});t=0;function d(n){$(".smallnav").css("display","block");for(var e=0;e<$(".smallnav").children().length;e++)$(".smallnav").children().eq(e).css({background:"#fff",color:"#e93b78"});$(".smallnav").children().eq(n).css({background:"#e93b78",color:"#fff"})}$(window).scroll(function(){var n=document.documentElement.scrollTop;n<$("#new").offset().top?($(".smallnav").css({position:"absolute",left:"-46px",top:"990px"}),d(t=0)):n>=$("#new").offset().top&&n<=$("#rushBuying").offset().top&&($(".smallnav").css({position:"fixed",left:"-46px",top:"40px"}),d(t=0)),n>=$("#rushBuying").offset().top&&n<$("#ranking").offset().top&&d(t=1),n>=$("#ranking").offset().top&&n<$("#newArrival").offset().top&&d(t=3),n>=$("#newArrival").offset().top&&(t=2,$(".smallnav").css("display","none"),scroll(t)),$(".smallnav").on({mouseenter:function(){$(this).css({background:"#e93b78",color:"#fff"})},mouseleave:function(){$(this).css({background:"#fff",color:"#e93b78"}),d(t)}},"p")}),$(".smallnav").bind({mouseenter:function(){$(this).animate({left:"0"},500)},mouseleave:function(){$(this).animate({left:"-46px"},500)}});var f=0;$(".smallnav").on({click:function(){var n=$(this).index();0==n?f=$("#new").offset().top:1==n?f=$("#rushBuying").offset().top:2==n?f=$("#newArrival").offset().top:3==n&&(f=$("#ranking").offset().top),$("html,body").animate({scrollTop:f},800)}},"p")});