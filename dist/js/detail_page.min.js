"use strict";$(function(){function o(t){return t?JSON.parse(t):{}}$(".nav_bottom_chose_li").eq(0).bind({mouseenter:function(){$(this).find(".nav_bottom_classify").css("display","block")},mouseleave:function(){$(this).find(".nav_bottom_classify").css("display","none")}}),$(".detail_img").bind({mouseenter:function(){$(".detail_smallcont").css("display","block"),$(".detail_node_bigimg").css("display","block")},mouseleave:function(){$(".detail_smallcont").css("display","none"),$(".detail_node_bigimg").css("display","none")},mousemove:function(t){var e=t.pageX-$(".detail_img").offset().left-$(".detail_smallcont").width()/2,i=t.pageY-$(".detail_img").offset().top-$(".detail_smallcont").height()/2;e<=0?$(".detail_smallcont").css("left",0):e>$(".detail_img")[0].offsetLeft?$(".detail_smallcont").css("left",$(".detail_img")[0].offsetLeft):$(".detail_smallcont").css("left",e),i<=0?$(".detail_smallcont").css("top",0):i>$(".detail_img")[0].offseTop?$(".detail_smallcont").css("top",$(".detail_img")[0].offseTop):$(".detail_smallcont").css("top",i);var l=e/$(".detail_smallcont").width(),a=i/$(".detail_smallcont").height();$(".detail_node_bigimg").find("img").css("left",-l*$(this).width()),$(".detail_node_bigimg").find("img").css("top",-a*$(this).height())}}),$(".detail_node_img_bottom").find("ul").on({mouseenter:function(){if($(this).parent().children().css("border","2px solid #ddd"),$(this).css("border","3px solid #e5cbb2"),$(".detail_img").find("img").attr("src",$(this).find("img").attr("src")),$(".detail_node_bigimg").find("img").attr("src",$(this).find("img").attr("src")),2<=$(this).index()){var t=($(this).index()-2)*$(this).width()+17*($(this).index()-1);$(this).parent().animate({left:-t},1e3)}}},"li"),$(".detail_mag_txt_bottom").children().eq(2).find("span").eq(1).bind({mouseenter:function(){$(this).next().css("display","block")},mouseleave:function(){$(this).next().css("display","none")}}),$(".detail_mag_txt_bottom").children().eq(0).children().eq(3).click(function(){var t=parseInt($(this).prev().val());t++,$(this).prev().val(t);var e=$(".detail_mag_txt_bottom").children().eq(1).children().eq(1).html().substring(1);$(".detail_list_jg").children().eq(3).html("￥"+parseInt($(this).prev().val())*parseInt(e))}),$(".detail_mag_txt_bottom").children().eq(0).children().eq(1).click(function(){var t=parseInt($(this).next().val());--t<1&&(t=1),$(this).next().val(t);var e=$(".detail_mag_txt_bottom").children().eq(1).children().eq(1).html().substring(1);$(".detail_list_jg").children().eq(3).html("￥"+parseInt($(this).prev().val())*parseInt(e))}),$(".detail_list_jg").children().eq(4).click(function(){var t=$(".detail_mag_txt_center").children().eq(1).attr("data-good-id"),e=$(".detail_mag_txt_center").children().eq(1).children().eq(0).html(),i=$(".detail_mag_txt_center").children().eq(1).children().eq(1).html(),l=$(".detail_mag_txt_bottom").children().eq(1).children().eq(1).html(),a=$(".detail_mag_txt_bottom").children().eq(0).children().eq(2).val(),n=$(".detail_img").find("img").attr("src"),s=o($.cookie("sasaproduct")?$.cookie("sasaproduct"):"");t in s?(s[t].num=parseInt(s[t].num)+parseInt(a),console.log(s[t])):s[t]={name:e,weight:i,price:l,src:n,num:a},$.cookie("sasaproduct",JSON.stringify(s),{expires:7,path:"/"}),function(){var t=o($.cookie("sasaproduct")?$.cookie("sasaproduct"):"");console.log(t);var e=t.rcx1.num,i=parseInt(e)*parseInt(t.rcx1.price.substring(1));$(".shopmas_center").children().eq(2).html(e),$(".detail_list_jg").children().eq(3).html("￥"+i)}(),console.log($.cookie())}),$(".detail_mag_txt_bottom").children().eq(2).children().eq(0).click(function(){var t=$(".detail_mag_txt_center").children().eq(1).attr("data-good-id"),e=$(".detail_mag_txt_center").children().eq(1).children().eq(0).html(),i=$(".detail_mag_txt_center").children().eq(1).children().eq(1).html(),l=$(".detail_mag_txt_bottom").children().eq(1).children().eq(1).html(),a=$(".detail_mag_txt_bottom").children().eq(0).children().eq(2).val(),n=$(".detail_img").find("img").attr("src"),s=o($.cookie("sasaproduct")?$.cookie("sasaproduct"):"");t in s?console.log(s[t]):s[t]={name:e,weight:i,price:l,src:n,num:a},$.cookie("sasaproduct",JSON.stringify(s),{expires:7,path:"/"}),location.href="shopping.html"})});